class Shout < ApplicationRecord
	after_create :update_cache_latest

	def cache_key()
		self.class.cache_key(self.id)
	end

private
	def self.cache_key(id)
		"shout/#{id}"
	end

	def update_cache_latest
		Rails.cache.increment('latest_shout_id', amount = 1)
		Rails.cache.write("#{self.cache_key}", self.image)
	end
end
